"use strict";(self.webpackChunkstreams_docs=self.webpackChunkstreams_docs||[]).push([[654],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>c});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=r,h=m["".concat(o,".").concat(c)]||m[c]||u[c]||l;return a?n.createElement(h,s(s({ref:t},d),{},{components:a})):n.createElement(h,s({ref:t},d))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,s=new Array(l);s[0]=m;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var p=2;p<l;p++)s[p]=a[p];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},2830:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const l={sidebar_position:4},s="Live Streams",i={unversionedId:"server-api/live-stream",id:"server-api/live-stream",title:"Live Streams",description:"- A live stream is a real-time video broadcast delivered through a streaming platform. You can create live streams, allowing users to ingest media content into the TP Streams system for processing and delivery.",source:"@site/docs/server-api/live-stream.md",sourceDirName:"server-api",slug:"/server-api/live-stream",permalink:"/docs/server-api/live-stream",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"serverAPISidebar",previous:{title:"Folders",permalink:"/docs/server-api/folders"},next:{title:"DRM License",permalink:"/docs/server-api/drm"}},o={},p=[{value:"Create a live stream instantly",id:"create-a-live-stream-instantly",level:2},{value:"Schedule a live stream and start the server later",id:"schedule-a-live-stream-and-start-the-server-later",level:2},{value:"Schedule a live stream",id:"schedule-a-live-stream",level:3},{value:"Start the server for the scheduled live stream",id:"start-the-server-for-the-scheduled-live-stream",level:3},{value:"List Live Streams API",id:"list-live-streams-api",level:2},{value:"Stop a live stream",id:"stop-a-live-stream",level:2},{value:"Delete Live Stream API",id:"delete-live-stream-api",level:2},{value:"WebHook Response",id:"webhook-response",level:2}],d={toc:p};function u(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"live-streams"},"Live Streams"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"A live stream is a real-time video broadcast delivered through a streaming platform. You can create live streams, allowing users to ingest media content into the TP Streams system for processing and delivery.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"With the TP Streams system, you have the ability to create live streams in two distinct ways:"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/docs/server-api/live-stream#create-a-live-stream-instantly"},"Create a live stream instantly")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"/docs/server-api/live-stream#schedule-a-live-stream-and-start-the-server-later"},"Schedule live streams and start them later"))),(0,r.kt)("h2",{id:"create-a-live-stream-instantly"},"Create a live stream instantly"),(0,r.kt)("p",null,"To Create a live stream instantly you need to send an HTTP POST request to the API Endpoint, with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/authentication"},"authentication Header"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://app.tpstreams.com/api/v1/<organization_id>/assets/live_streams/\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Fields")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"title"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Specify a text string or identifier which can be used for filtering or searching the live stream."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"enable_drm"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"A boolean value to enable or disable DRM for live stream recording."),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Sample request body")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "title": "Data science Live class",\n  "enable_drm": true\n}\n\n')),(0,r.kt)("p",null,"For valid requests the API server returns a JSON:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "title": "Data science Live class",\n    "bytes": null,\n    "type": "livestream",\n    "video": null,\n    "id": "4PtERT9d9uK",\n    "live_stream": {\n        "rtmp_url": "",\n        "stream_key": null,\n        "status": "Not Started",\n        "hls_url": "https://d28qihy7z761lk.cloudfront.net/live/4xu8ay/4PtERT9d9uK/video.m3u8",\n        "start": null,\n        "transcode_recorded_video": true,\n        "chat_embed_url": null\n    },\n    "parent_id": null\n}\n')),(0,r.kt)("admonition",{type:"important"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"The live stream server typically takes around 20-30 seconds to start. "),(0,r.kt)("li",{parentName:"ul"},'Once it\'s up and running, both the "rtmp_url" and "stream_key" will become accessible. '))),(0,r.kt)("p",null,"To automatically receive rtmp_url and stream key as soon as the server is established,",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/webhooks"},"Create a Web Hook"),"."),(0,r.kt)("p",null,"After successfully registering the webhook, you will receive an updated webhook response."),(0,r.kt)("h2",{id:"schedule-a-live-stream-and-start-the-server-later"},"Schedule a live stream and start the server later"),(0,r.kt)("h3",{id:"schedule-a-live-stream"},"Schedule a live stream"),(0,r.kt)("p",null,"To Schedule a live stream you need to send an HTTP POST request to the API Endpoint, with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/authentication"},"authentication Header"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://app.tpstreams.com/api/v1/<organization_id>/assets/live_streams/\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Fields")),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Name"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"),(0,r.kt)("th",{parentName:"tr",align:null},"Required"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"title"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"Specify a text string or identifier which can be used for filtering or searching the live stream."),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"start"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},'Specify the date and time (in the format: "YYYY-MM-DD HH:MM:SS") when the live stream should be scheduled.'),(0,r.kt)("td",{parentName:"tr",align:null},"Yes")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"enable_drm"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"A boolean value to enable or disable DRM for live stream recording."),(0,r.kt)("td",{parentName:"tr",align:null},"No")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Sample request body")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "title": "Data science Live class",\n  "start": "2024-10-05 15:30:00",\n  "enable_drm": false\n}\n\n')),(0,r.kt)("p",null,"For valid requests the API server returns a JSON:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "title": "Data science Live class",\n    "bytes": null,\n    "type": "livestream",\n    "video": null,\n    "id": "AuC9yX2EtBr",\n    "live_stream": {\n        "rtmp_url": "",\n        "stream_key": null,\n        "status": "Not Started",\n        "hls_url": "https://d28qihy7z761lk.cloudfront.net/live/gnarys/AuC9yX2EtBr/video.m3u8",\n        "start": "2024-10-05 15:30:00",\n        "transcode_recorded_video": true,\n        "enable_drm": false,\n        "chat_embed_url": null,\n        "resolutions": [\n            "240p",\n            "480p",\n            "720p"\n        ]\n    },\n    "parent": null,\n    "parent_id": null\n}\n')),(0,r.kt)("p",null,"Live stream is created with the scheduled time for you to start the server later."),(0,r.kt)("p",null,"Above response has the details of the live stream scheduled which can also be obtained by API\n",(0,r.kt)("strong",{parentName:"p"},"/api/v1/<organization_id>/assets/<asset_id>/")),(0,r.kt)("admonition",{type:"important"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Scheduled live streams will not automatically start at the specified time; they must be manually initiated."),(0,r.kt)("li",{parentName:"ul"},"RTMP URL and stream key will be available once you start the stream"))),(0,r.kt)("h3",{id:"start-the-server-for-the-scheduled-live-stream"},"Start the server for the scheduled live stream"),(0,r.kt)("p",null,"To Start a server for the scheduled live stream you need to send an HTTP POST request to the API Endpoint, with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/authentication"},"authentication Header"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://app.tpstreams.com/api/v1/<organization_id>/assets/<str:asset_id>/start_server/\n")),(0,r.kt)("p",null,"For valid requests the API server returns a JSON:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "title": "Data science Live class",\n    "bytes": null,\n    "type": "livestream",\n    "video": null,\n    "id": "8XGEEj6ptnB",\n    "live_stream": {\n        "rtmp_url": "",\n        "stream_key": null,\n        "status": "Not Started",\n        "hls_url": "https://d3cydmgt9q030i.cloudfront.net/live/edee9b/8XGEEj6ptnB/video.m3u8",\n        "start": "2024-10-05 15:30:00",\n        "transcode_recorded_video": true,\n        "enable_drm": false,\n        "chat_embed_url": "https://app.tpstreams.com/live-chat/edee9b/8XGEEj6ptnB/",\n        "resolutions": [\n            "240p",\n            "480p",\n            "720p"\n        ]\n    },\n    "parent": null,\n    "parent_id": null\n}\n')),(0,r.kt)("p",null,"This will start the server for specified live stream"),(0,r.kt)("p",null,"Above response has the details of the live stream started which can also be obtained by API\n",(0,r.kt)("strong",{parentName:"p"},"/api/v1/<organization_id>/assets/<asset_id>/")),(0,r.kt)("admonition",{type:"important"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"The live stream server typically takes around 20-30 seconds to start. "),(0,r.kt)("li",{parentName:"ul"},'Once it\'s up and running, both the "rtmp_url" and "stream_key" will become accessible. '))),(0,r.kt)("p",null,"To automatically receive rtmp_url and stream key as soon as the server is established,",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/webhooks"},"Create a Web Hook"),"."),(0,r.kt)("p",null,"After successfully registering the webhook, you will receive an updated webhook response."),(0,r.kt)("h2",{id:"list-live-streams-api"},"List Live Streams API"),(0,r.kt)("p",null,"To retrieve a list of live streams in the organization, send an HTTP GET request to the API Endpoint, with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/authentication"},"authentication Header"),". This API supports to list live streams, scheduled live streams "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-http"},"https://app.tpstreams.com/api/v1/<organization_id>/assets/live_streams/\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Sample webhook response is as follows")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "count": 2,\n    "next": null,\n    "previous": null,\n    "results": [\n        {\n            "title": "Data Science Live Class",\n            "bytes": null,\n            "type": "livestream",\n            "video": null,\n            "id": "8DH94uXQgrA",\n            "live_stream": {\n                "rtmp_url": "rtmp://52.66.213.19/live",\n                "stream_key": "org-89b2cy-live-8DH94uXQgrA-7XkI",\n                "status": "Completed",\n                "hls_url": "https://d3cydmgt9q030i.cloudfront.net/live/89b2cy/8DH94uXQgrA/video.m3u8",\n                "start": "2023-12-07 13:02:16",\n                "transcode_recorded_video": true,\n                "enable_drm": true,\n                "chat_embed_url": null,\n                "resolutions": [\n                    "240p",\n                    "480p",\n                    "720p"\n                ]\n            },\n            "parent": null,\n            "parent_id": null\n        },\n        {\n            "title": "GO LIVE NOW",\n            "bytes": null,\n            "type": "livestream",\n            "video": null,\n            "id": "9QgXR3pPj49",\n            "live_stream": {\n                "rtmp_url": "",\n                "stream_key": null,\n                "status": "Completed",\n                "hls_url": "https://d3cydmgt9q030i.cloudfront.net/live/89b2cy/9QgXR3pPj49/video.m3u8",\n                "start": "2023-12-07 12:34:42",\n                "transcode_recorded_video": true,\n                "enable_drm": true,\n                "chat_embed_url": null,\n                "resolutions": [\n                    "240p",\n                    "480p",\n                    "720p"\n                ]\n            },\n            "parent": null,\n            "parent_id": null\n        }\n    ]\n}\n')),(0,r.kt)("h2",{id:"stop-a-live-stream"},"Stop a live stream"),(0,r.kt)("p",null,"To Stop a live stream you need to send an HTTP POST request to the API Endpoint, with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/authentication"},"authentication Header"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://app.tpstreams.com/api/v1/<organization_id>/assets/<str:asset_id>/stop_live_stream/\n")),(0,r.kt)("p",null,"This will stop the specified live stream"),(0,r.kt)("admonition",{type:"important"},(0,r.kt)("p",{parentName:"admonition"},'If the value of the parameter "transcode_recorded_video" is set to true, you will receive the video object in the webhook response.')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Sample webhook response is as follows")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "title": "Data science Live class",\n    "bytes": null,\n    "type": "livestream",\n    "video": {\n        "progress": 0,\n        "thumbnails": [],\n        "status": "Completed",\n        "playback_url": "https://d7pdowhru2wq4.cloudfront.net/transcoded/9328558d-e0a5-4093-b3b9-8f15ad1550d8/video.m3u8",\n        "dash_url": "https://d7pdowhru2wq4.cloudfront.net/transcoded/9328558d-e0a5-4093-b3b9-8f15ad1550d8/video.mpd",\n        "preview_thumbnail_url": null,\n        "format": "abr",\n        "resolutions": ["240p", "360p", "480p", "720p"],\n        "video_codec": "h264",\n        "audio_codec": "aac",\n        "enable_drm": true,\n        "tracks": [],\n        "inputs": [\n            {\n                "url": "https://static.testpress.in/Data_science_Live_class.mp4"\n            }\n        ],\n    }, \n    "id": "4PtERT9d9uK",\n    "live_stream": {\n        "rtmp_url": "rtmp://23.427.127.24/live",\n        "stream_key": "org-4xu8ay-live-4PtERT9d9uK-jKP4",\n        "status": "Completed",\n        "hls_url": "https://d28qihy7z761lk.cloudfront.net/live/4xu8ay/4PtERT9d9uK/video.m3u8",\n        "start": null,\n        "transcode_recorded_video": true,\n        "chat_embed_url":"https://app.tpstreams.com/live-chat/4PtERT9d9uK/"\n    },\n    "parent_id": null\n}\n')),(0,r.kt)("h2",{id:"delete-live-stream-api"},"Delete Live Stream API"),(0,r.kt)("p",null,"To delete an individual live stream in the organization, send an HTTP DELETE request to the API Endpoint , with the ",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/authentication"},"authentication Header"),". This API supports the deletion of both live and scheduled live streams. "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"https://app.tpstreams.com/api/v1/<organization_id>/assets/<asset_id>/\n")),(0,r.kt)("p",null,"For a successful request, status 204 is returned."),(0,r.kt)("admonition",{type:"important"},(0,r.kt)("p",{parentName:"admonition"}," If the streaming live stream or a live stream with an active server is deleted, it will result in stopping the server.")),(0,r.kt)("h2",{id:"webhook-response"},"WebHook Response"),(0,r.kt)("p",null,"Upon a successful creation of live stream, to notify your application about things that happen asynchronously ,\n",(0,r.kt)("a",{parentName:"p",href:"/docs/server-api/webhooks"},"Create a Web Hook"),"."),(0,r.kt)("p",null,"After successfully registering the webhook, whenever the status of live stream changes, response will be sent to the webhook."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Sample webhook response for livestream is as follows")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "title": "Data science Live class",\n    "bytes": null,\n    "type": "livestream",\n    "video": null,\n    "id": "4PtERT9d9uK",\n    "live_stream": {\n        "rtmp_url": "rtmp://23.427.127.24/live",\n        "stream_key": "org-4xu8ay-live-4PtERT9d9uK-jKP4",\n        "status": "Available",\n        "hls_url": "https://d28qihy7z761lk.cloudfront.net/live/4xu8ay/4PtERT9d9uK/video.m3u8",\n        "start": null,\n        "transcode_recorded_video": true,\n        "chat_embed_url":"https://app.tpstreams.com/live-chat/4PtERT9d9uK/"\n    },\n    "parent_id": null\n}\n')),(0,r.kt)("p",null,"After getting the rtmp_url and stream_key paste it in the obs stream settings  ",(0,r.kt)("strong",{parentName:"p"},"Settings > Stream")),(0,r.kt)("p",null," ",(0,r.kt)("img",{alt:"OBS settings",src:a(1700).Z,width:"1962",height:"713"})))}u.isMDXComponent=!0},1700:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/obs-4a13a4d48fb07916696a14cc5719dc91.png"}}]);