"use strict";(self.webpackChunkstreams_docs=self.webpackChunkstreams_docs||[]).push([[3616],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>y});var a=t(7294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=a.createContext({}),c=function(e){var n=a.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},d=function(e){var n=c(e.components);return a.createElement(i.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=c(t),y=r,g=u["".concat(i,".").concat(y)]||u[y]||p[y]||o;return t?a.createElement(g,l(l({ref:n},d),{},{components:t})):a.createElement(g,l({ref:n},d))}));function y(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,l=new Array(o);l[0]=u;var s={};for(var i in n)hasOwnProperty.call(n,i)&&(s[i]=n[i]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var c=2;c<o;c++)l[c]=t[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},1960:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=t(7462),r=(t(7294),t(3905));const o={sidebar_position:3},l="Player Events",s={unversionedId:"mobile-sdk/react-native-sdk/player-events",id:"mobile-sdk/react-native-sdk/player-events",title:"Player Events",description:"You can listen to various events related to the player's state through the TPStreamsPlayerView component. By adding event handlers, you can track changes in the player's properties such as whether the video is playing, loading state, playback speed changes, and more.",source:"@site/docs/mobile-sdk/react-native-sdk/player-events.md",sourceDirName:"mobile-sdk/react-native-sdk",slug:"/mobile-sdk/react-native-sdk/player-events",permalink:"/docs/mobile-sdk/react-native-sdk/player-events",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"mobileSdk",previous:{title:"Player Methods",permalink:"/docs/mobile-sdk/react-native-sdk/player-methods"},next:{title:"Downloads",permalink:"/docs/mobile-sdk/react-native-sdk/downloads"}},i={},c=[{value:"Available Events",id:"available-events",level:2},{value:"Player State Values",id:"player-state-values",level:2},{value:"Event Handler Usage",id:"event-handler-usage",level:2}],d={toc:c};function p(e){let{components:n,...t}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"player-events"},"Player Events"),(0,r.kt)("p",null,"You can listen to various events related to the player's state through the TPStreamsPlayerView component. By adding event handlers, you can track changes in the player's properties such as whether the video is playing, loading state, playback speed changes, and more."),(0,r.kt)("h2",{id:"available-events"},"Available Events"),(0,r.kt)("p",null,"The TPStreamsPlayerView component provides the following event handlers:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"onPlayerStateChanged(state: number)"),": Fires when player state changes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"onIsPlayingChanged(isPlaying: boolean)"),": Fires when playing state changes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"onPlaybackSpeedChanged(speed: number)"),": Fires when playback speed changes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"onIsLoadingChanged(isLoading: boolean)"),": Fires when loading state changes."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"onError(error: {message: string, code: number, details?: string})"),": Fires when an error occurs."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"onAccessTokenExpired(videoId: string, callback: (newToken: string) => void)"),": Fires when the access token expires. Call the callback with a new token to continue playback.")),(0,r.kt)("h2",{id:"player-state-values"},"Player State Values"),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"onPlayerStateChanged")," event provides numeric state values that correspond to the following player states:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"0")," - IDLE: Player is idle and not ready to play"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"1")," - BUFFERING: Player is buffering content"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"2")," - READY: Player is ready to play"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"3")," - ENDED: Video playback has ended")),(0,r.kt)("h2",{id:"event-handler-usage"},"Event Handler Usage"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"<TPStreamsPlayerView\n  videoId=\"YOUR_VIDEO_ID\"\n  accessToken=\"YOUR_ACCESS_TOKEN\"\n  onPlayerStateChanged={(state) => {\n    switch(state) {\n      case 0:\n        console.log('Player is idle');\n        break;\n      case 1:\n        console.log('Player is buffering');\n        break;\n      case 2:\n        console.log('Player is ready');\n        break;\n      case 3:\n        console.log('Video ended');\n        break;\n    }\n  }}\n  onIsPlayingChanged={(isPlaying) => console.log(`Is playing: ${isPlaying}`)}\n  onPlaybackSpeedChanged={(speed) => console.log(`Speed changed: ${speed}x`)}\n  onIsLoadingChanged={(isLoading) => console.log(`Loading: ${isLoading}`)}\n  onError={(error) => console.error('Player error:', error)}\n  onAccessTokenExpired={async (videoId, callback) => {\n    // Fetch a new token from your server\n    const newToken = await getNewTokenForVideo(videoId);\n    callback(newToken);\n  }}\n/>\n")))}p.isMDXComponent=!0}}]);